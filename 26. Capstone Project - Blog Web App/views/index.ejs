<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>TechNews</title>
		<link rel="stylesheet" href="/styles/main.css" />
	</head>
	<body>
		<%- include('partials/header.ejs') %>

		<main>
			<section id="headlines-section">
				<% if (posts && posts.length > 0) { %>
				<div class="headline-news">
					<a href="/post/<%= posts[0].id %>" class="headline-card-container">
						<div class="headline-card">
							<img class="headline-image" src="<%= posts[0].image %>" alt="headline-image" />

							<div class="headline-card-desc">
								<p class="headline-category"><%= posts[0].category %></p>
								<h2 class="headline-title"><%= posts[0].title %></h2>
								<p class="headline-meta-info"><%= posts[0].writer %> - <%= posts[0].date %></p>
							</div>
						</div>
					</a>
				</div>
				<% } else { %>
				<h1>404 Headline Not Found</h1>
				<p>Create a blog <a href="/create-blog">here</a>.</p>
				<% } %>
			</section>

			<section id="latest-news-section">
				<h1>Latest News</h1>
				<% if (posts && posts.length > 1) { %> <% for(let i = 1; i < posts.length; i++) { %>
				<a href="/post/<%= posts[i].id %>" class="latest-news-container">
					<div class="latest-news-card">
						<img src="<%= posts[i].image %>" alt="" />
						<div class="latest-news-description">
							<p class="latest-news-category"><%= posts[i].category %></p>
							<h3 class="latest-news-title"><%= posts[i].title %></h3>
							<p class="latest-news-meta-info"><%= posts[i].writer %> - <%= posts[i].date %></p>
						</div>
					</div>
				</a>
				<% } %> <% } else { %>
				<h1>404 Latest News Not Found</h1>
				<p>Create a blog <a href="/create-blog">here</a>.</p>
				<% } %>
			</section>

			<section id="top-news">
				<h1>Most Popular</h1>
				<ul>
					<% if (posts && posts.length > 0) { %> <% posts.forEach(post => { %>
					<li>
						<div class="dot"></div>
						<a href="/post/<%= post.id %>"><%= post.title %></a>
					</li>
					<% }); %> <% } else { %>
					<li>
						<div class="dot"></div>
						<p>404, no news article available, create <a href="/create-blog">here</a>.</p>
					</li>
					<% } %>
				</ul>
			</section>
		</main>
	</body>
</html>
